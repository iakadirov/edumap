# Workflow — Как работать над EduMap.uz

## 🔄 Цикл работы (Solo + AI)

```
┌─────────────────────────────────────────────────────────────┐
│                    НЕДЕЛЬНЫЙ ЦИКЛ                           │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  Понедельник          Вт-Пт              Суббота           │
│  ┌─────────┐      ┌─────────┐        ┌─────────┐          │
│  │ PLAN    │ ───► │ BUILD   │ ───►   │ REVIEW  │          │
│  │         │      │         │        │         │          │
│  │ Linear  │      │ Cursor  │        │ Docs    │          │
│  │ Notion  │      │ Claude  │        │ Linear  │          │
│  └─────────┘      └─────────┘        └─────────┘          │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 📅 Понедельник: Планирование (30-60 мин)

### Чеклист
- [ ] Открыть Linear → обновить статусы задач
- [ ] Посмотреть что не успели на прошлой неделе
- [ ] Выбрать 3-5 задач на эту неделю
- [ ] Обновить `CURRENT_SPRINT.md`
- [ ] Обновить `PROJECT_CONTEXT.md` (секция "Текущий статус")

### В Linear
```
Создать задачи формата:
[SCHOOLS] Компонент SchoolCard
[UI] Header с навигацией
[DB] Таблица organizations
[DOCS] Обновить архитектуру
```

---

## 💻 Вторник-Пятница: Разработка

### Утренний ритуал (5 мин)

#### Вариант А: Официальная интеграция Cursor (Рекомендуется) ⭐
1. Открыть Linear → выбрать задачу на сегодня
2. Назначить задачу на **Cursor** (в поле Assignee)
3. Cursor автоматически начнет работу над задачей
4. Отслеживать прогресс в Linear или Cursor IDE

#### Вариант Б: Ручная работа с Claude
1. Открыть Linear → выбрать задачу на сегодня
2. Перевести в "In Progress"
3. Открыть Cursor
4. Скопировать описание задачи и вставить в чат с Claude

### Сессия с Claude (если работаете вручную)

#### Начало сессии (копировать и вставлять):
```
Привет! Продолжаем работу над EduMap.uz.

## Контекст проекта
[Вставить содержимое PROJECT_CONTEXT.md]

## Сегодняшняя задача
[Описание задачи из Linear]

## Что нужно сделать
[Конкретные требования]
```

#### Правила работы с Claude:
```
✅ ХОРОШО:
- Давать полный контекст
- Просить пошаговый план перед кодом
- Разбивать на маленькие части
- Проверять каждый шаг

❌ ПЛОХО:
- "Сделай авторизацию" (слишком общо)
- Просить всё сразу
- Не тестировать результат
- Забывать сохранять прогресс
```

#### Пример хорошего запроса:
```
Задача: Создать компонент SchoolCard

Требования:
- TypeScript
- Tailwind для стилей
- Показывает: название, рейтинг, цена, район
- Кликабельная (ведёт на /schools/[slug])

Сначала покажи структуру компонента, потом код.
```

### После каждой задачи

#### С официальной интеграцией Cursor:
1. Cursor автоматически создаст PR после завершения
2. Ревьюить PR в GitHub
3. Задача в Linear обновится автоматически

#### При ручной работе:
1. Проверить что код работает
2. `git add . && git commit -m "feat: описание"`
3. `git push`
4. Создать PR в GitHub
5. В Linear → перевести в "Done" и добавить ссылку на PR

### Вечерний ритуал (5 мин)
1. Последний коммит
2. Записать заметки в `CURRENT_SPRINT.md` (Daily Log)
3. Что сделал, что не успел, что завтра

---

## 📊 Суббота: Ревью недели (30-60 мин)

### Чеклист
- [ ] Посмотреть все задачи в Linear
- [ ] Что сделано? Что не успели?
- [ ] Обновить `PROJECT_CONTEXT.md`
- [ ] Обновить `CURRENT_SPRINT.md`
- [ ] Если спринт закончен → создать новый
- [ ] Записать важные решения в `DECISIONS.md`

---

## 🛠 Инструменты и когда их использовать

| Инструмент | Когда использовать |
|------------|-------------------|
| **Linear** | Управление задачами, спринты |
| **Cursor** | Написание кода (с Claude внутри) |
| **Cursor ↔ Linear** | Автоматическая работа над задачами (официальная интеграция) |
| **Claude.ai** | Архитектурные вопросы, планирование, документация |
| **GitHub** | Хранение кода, версионирование |
| **Vercel** | Деплой, превью |
| **Supabase** | База данных, Auth, Storage |
| **Figma** | UI дизайн |
| **Notion** | Заметки, идеи, исследования |

---

## 📁 Структура документации

```
docs/
├── PROJECT_CONTEXT.md    # Главный контекст (для Claude)
├── CURRENT_SPRINT.md     # Текущий спринт
├── DECISIONS.md          # Архитектурные решения
├── WORKFLOW.md           # Этот файл
└── modules/
    └── schools/
        ├── README.md
        ├── RATING.md     # Алгоритм рейтинга
        └── MATCHING.md   # Алгоритм подбора
```

---

## 🔑 Важные принципы

### 1. Маленькие шаги
```
❌ "Сделать модуль школ"
✅ "Сделать карточку школы" → "Сделать список" → "Сделать фильтры"
```

### 2. Документируй решения
Каждое важное решение записывай в DECISIONS.md:
- Что решили
- Почему
- Какие альтернативы рассматривали

### 3. Commit часто
```bash
# После каждой логической единицы работы
git add .
git commit -m "тип: описание"
git push
```

Типы коммитов:
- `feat:` — новая функция
- `fix:` — исправление бага
- `docs:` — документация
- `style:` — форматирование
- `refactor:` — рефакторинг

### 4. Тестируй сразу
Не накапливай код без проверки. После каждого изменения:
- Запусти `npm run dev`
- Проверь в браузере
- Только потом коммить

### 5. Обновляй контекст
`PROJECT_CONTEXT.md` должен быть актуальным.
Это твой способ "передать память" между сессиями Claude.

---

## 🆘 Если застрял

1. **Не работает код?**
   - Скопируй ошибку в Claude
   - Попроси объяснить и исправить

2. **Не понимаешь что делать?**
   - Попроси Claude разбить задачу на шаги
   - Начни с самого маленького шага

3. **Слишком сложно?**
   - Может, задача слишком большая
   - Раздели на 2-3 подзадачи

4. **Потерял контекст?**
   - Открой `PROJECT_CONTEXT.md`
   - Скопируй в новую сессию Claude

---

*Этот документ — живой. Обновляй его когда находишь лучший способ работать.*
