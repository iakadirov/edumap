# Задачи миграции архитектуры для школ

> **Важно:** Работаем только над школами 1-2 месяца, но создаем фундамент для других разделов

## Этап 1: Подготовка базовой архитектуры ✅

### Задача 1.1: Создать базовый Header компонент
**Файлы:**
- `src/components/shared/Header/BaseHeader.tsx` - базовая логика (sticky, scroll, топ бар)
- `src/components/shared/Header/HeaderContent.tsx` - контент header
- `src/components/shared/Header/TopBar.tsx` - верхняя строка
- `src/components/shared/Header/MainNav.tsx` - основная навигация

**Описание:**
- Вынести всю логику sticky header из текущего Header
- Вынести логику скролла и управления топ баром
- Сделать компоненты композабельными через props
- Сохранить текущее поведение, но сделать переиспользуемым

**Приоритет:** High
**Оценка:** 2-3 часа

---

### Задача 1.2: Создать структуру папок для разделов
**Действия:**
- Создать `src/components/schools/Header/`
- Создать `src/components/kindergartens/Header/` (пустая папка для будущего)
- Создать `src/components/universities/Header/` (пустая папка для будущего)
- Создать `src/components/courses/Header/` (пустая папка для будущего)

**Приоритет:** High
**Оценка:** 15 минут

---

## Этап 2: Миграция раздела Schools

### Задача 2.1: Создать SchoolsHeader компонент
**Файлы:**
- `src/components/schools/Header/SchoolsHeader.tsx`
- `src/components/schools/Header/SchoolsTopBar.tsx`
- `src/components/schools/Header/SchoolsMainNav.tsx`

**Описание:**
- Использовать BaseHeader как основу
- Адаптировать навигацию для школ
- Сохранить текущий дизайн и функциональность
- Активная ссылка на "Maktablar" в топ баре

**Приоритет:** High
**Оценка:** 2-3 часа

---

### Задача 2.2: Создать layout для раздела schools
**Файлы:**
- `src/app/schools/layout.tsx`

**Описание:**
- Использовать SchoolsHeader вместо общего Header
- Подключить RegionProvider (если нужно)
- Использовать общий Footer
- Настроить метаданные для SEO школ

**Приоритет:** High
**Оценка:** 30 минут

---

### Задача 2.3: Переместить страницы schools из (main)
**Действия:**
- Переместить `src/app/(main)/schools/*` → `src/app/schools/*`
- Обновить все импорты и ссылки
- Проверить работу всех страниц:
  - `/schools` (главная)
  - `/schools/list` (каталог)
  - `/schools/[slug]` (профиль школы)

**Приоритет:** High
**Оценка:** 1 час

---

### Задача 2.4: Обновить ссылки в Header для главной страницы
**Файлы:**
- `src/components/shared/Header.tsx` (или новый компонент для главной)

**Описание:**
- Главная страница должна использовать общий Header (не SchoolsHeader)
- Обновить навигацию, чтобы она подходила для главной страницы
- "Maktablar" должна вести на `/schools`

**Приоритет:** Medium
**Оценка:** 30 минут

---

## Этап 3: Подготовка фундамента для других разделов

### Задача 3.1: Создать базовые layout заглушки для других разделов
**Файлы:**
- `src/app/kindergartens/layout.tsx` - заглушка
- `src/app/universities/layout.tsx` - заглушка
- `src/app/courses/layout.tsx` - заглушка

**Описание:**
- Создать минимальные layouts с базовой структурой
- Использовать общий Header пока (будут заменены позже)
- Добавить комментарии TODO для будущей разработки
- Страницы уже существуют в `(main)`, пока оставляем там

**Приоритет:** Low
**Оценка:** 30 минут

---

### Задача 3.2: Создать базовые Header заглушки
**Файлы:**
- `src/components/kindergartens/Header/KindergartensHeader.tsx` - заглушка с TODO
- `src/components/universities/Header/UniversitiesHeader.tsx` - заглушка с TODO
- `src/components/courses/Header/CoursesHeader.tsx` - заглушка с TODO

**Описание:**
- Создать компоненты-заглушки с комментариями
- Использовать BaseHeader внутри (но пока не подключены к layouts)
- Добавить README с планом реализации

**Приоритет:** Low
**Оценка:** 30 минут

---

### Задача 3.3: Обновить документацию архитектуры
**Файлы:**
- `docs/ARCHITECTURE_SCALING.md` - обновить с учетом проделанной работы
- `docs/SCHOOLS_MODULE.md` - создать описание модуля школ
- `docs/FUTURE_MODULES.md` - план для других модулей

**Приоритет:** Low
**Оценка:** 1 час

---

## Этап 4: Главная страница (опционально, если нужно)

### Задача 4.1: Создать отдельный Header для главной страницы
**Файлы:**
- `src/components/shared/HomeHeader.tsx` или обновить `Header.tsx`

**Описание:**
- Главная страница может иметь свой уникальный Header
- Или использовать общий Header с адаптацией
- Решить на основе дизайна

**Приоритет:** Medium (когда будет дизайн)
**Оценка:** 1-2 часа

---

## Этап 5: Тестирование и финализация

### Задача 5.1: Тестирование миграции
**Действия:**
- Проверить все страницы школ работают корректно
- Проверить навигацию и ссылки
- Проверить sticky header поведение
- Проверить SEO метаданные

**Приоритет:** High
**Оценка:** 1 час

---

### Задача 5.2: Обновить ссылки в других компонентах
**Файлы:**
- Footer
- Другие компоненты, которые ссылаются на `/schools/*`

**Описание:**
- Убедиться, что все ссылки актуальны
- Обновить если нужно

**Приоритет:** High
**Оценка:** 30 минут

---

## Итоговый план выполнения

### Неделя 1: Этап 1-2 (Основная миграция)
- [ ] Задача 1.1: BaseHeader компонент
- [ ] Задача 1.2: Структура папок
- [ ] Задача 2.1: SchoolsHeader компонент
- [ ] Задача 2.2: Layout для schools
- [ ] Задача 2.3: Переместить страницы
- [ ] Задача 2.4: Обновить ссылки

### Неделя 1-2: Этап 3 (Фундамент)
- [ ] Задача 3.1: Layout заглушки
- [ ] Задача 3.2: Header заглушки
- [ ] Задача 3.3: Документация

### Неделя 2: Этап 5 (Тестирование)
- [ ] Задача 5.1: Тестирование
- [ ] Задача 5.2: Обновить ссылки

---

## Важные замечания

1. **Не трогаем другие разделы** - только заглушки и фундамент
2. **Главная страница** - может иметь свой Header, решить по дизайну
3. **Фундамент важен** - правильная структура упростит добавление других разделов позже
4. **Обратная совместимость** - убедиться, что ничего не сломали во время миграции

