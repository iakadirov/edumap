# Безопасность переменных окружения

## ✅ .env.local защищен от коммита в Git

Файл `.env.local` **НЕ будет закоммичен** в GitHub, потому что:

1. ✅ Он добавлен в `.gitignore` (строка 35)
2. ✅ Паттерн `.env*` также игнорируется (строка 34)
3. ✅ Git не отслеживает этот файл

---

## Проверка безопасности

### Вариант 1: Команда Git

```bash
# Проверить, игнорируется ли файл
git check-ignore .env.local

# Если выводит: .env.local → файл защищен ✅
# Если ничего не выводит → файл НЕ защищен ❌
```

### Вариант 2: Проверка статуса

```bash
# Проверить, отслеживается ли файл
git status .env.local

# Если выводит: "nothing to commit" → файл защищен ✅
# Если показывает файл → файл НЕ защищен ❌
```

### Вариант 3: Проверка .gitignore

Убедитесь, что в `.gitignore` есть:
```
.env*
.env.local
.env*.local
```

---

## Что НИКОГДА не коммитьте

- ❌ `.env.local` - локальные секреты
- ❌ `.env.production` - production секреты
- ❌ `SUPABASE_SERVICE_ROLE_KEY` - обходит RLS
- ❌ Любые API ключи, токены, пароли

---

## Что МОЖНО коммитить

- ✅ `.env.example` - пример файла БЕЗ секретов
- ✅ `.env.development` - если там только публичные переменные
- ✅ `NEXT_PUBLIC_*` переменные - они и так публичные (видны в браузере)

---

## Если случайно закоммитили секреты

1. **Немедленно** удалите из истории Git
2. **Немедленно** сгенерируйте новые ключи в Supabase
3. Обновите `.env.local` с новыми ключами
4. Используйте `git filter-branch` или `BFG Repo-Cleaner` для очистки истории

---

## Дополнительная защита

Для еще большей безопасности можно использовать:

1. **GitHub Secrets** - для CI/CD (Vercel автоматически использует переменные из Settings)
2. **Vercel Environment Variables** - настройте в Vercel Dashboard → Settings → Environment Variables
3. **Supabase Vault** - для хранения секретов в Supabase

---

**Текущий статус:** ✅ `.env.local` защищен и не будет закоммичен

